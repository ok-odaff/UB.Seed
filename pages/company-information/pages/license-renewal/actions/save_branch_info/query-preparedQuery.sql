DECLARE @sql NVARCHAR(MAX);

BEGIN TRANSACTION;
BEGIN TRY
	SET @sql = ?;
  
  EXEC sp_executesql @sql
COMMIT TRANSACTION;
END TRY
BEGIN CATCH
	THROW
	ROLLBACK TRANSACTION;
END CATCH;